# PyBot

A LightBot clone for blind students.
Works with Python2/3 + Pygame (including Raspberry Pi).

  * https://www.youtube.com/watch?v=SyqehSvJHv8

視覚障害者向け教材「仮想ロボットを使ったプログラミング入門」

概要
----
  * プログラミングの基本概念である逐次実行、繰り返し、条件分岐を教える。
  * プログラムがきちんと動いたときの達成感を知ってもらう。
  * 3×5 の仮想空間(迷路)中に置かれたロボットをプログラムさせ、出口に到達させるのが目標。

必要なもの
----------
  * PC あるいは Raspberry Pi (人数分)
  * Python2 (あるいは Python3) および Pygame をインストールしておくこと

起動方法
--------

 1. なにか適当なフォント (.ttfファイル) をコピーしておく。
 2. 以下のように実行:
    $ python pybot.py -F フォントファイル名 問題ファイル名
 3. サンプル問題ファイルは levels/ ディレクトリ以下にある。

操作方法
--------

  * Escapeキーで終了。
  * Numlockしたテンキーにより操作する。
  * BS キーで迷路モード・編集モードの切り替え。
  * 迷路モード: 左側の 3×5 のキーで迷路を見る。
  * 迷路モード: Enterキーでプログラム実行開始。
  * 迷路モード: +キー、-キーで 1ステップずつ実行 (戻る・進むの双方向が可能)。
  * 編集モード: 1 〜 9 のキーで命令を選択、Enterキーで入力の確定。
  * 編集モード: +キー、-キーで 1ステップずつ実行 (戻る・進むの双方向が可能)。

命令一覧
--------

  * 1: G (ススム) … 前へ進む
  * 2: L (ヒダリムキ) … 左へ90度向きを変える (移動しない)
  * 3: R (ミギムキ) … 右へ90度向きを変える (移動しない)
  * 4: H1 (ラベル 1) … ジャンプ命令の起点 1。
  * 5: J1 (ジャンプ 1) … 「ラベル 1」で指定した命令から実行を開始。
  * 6: B1 (ブンキ 1) … ジャンプ 1と同じ、ただし鍵を持っていないときに限る。
  * 7: H2 (ラベル 2) … ジャンプ命令の起点 2。
  * 8: J2 (ジャンプ 2) … 「ラベル 2」で指定した命令から実行を開始。
  * 9: B2 (ブンキ 2) … ジャンプ 2と同じ、ただし鍵を持っていないときに限る。

問題ファイルの書式
------------------
以下のようなテキストファイルを用意しておく (Python の eval で評価される) :

    ('.../.@./.../.../.N.', [], 5, ('G','L','R'))

これは以下のような迷路として表示される:

    ...
    .@.
    ...
    ...
    .N.

  * ロボットは北向き (最初の方向は N,S,E,W の一文字で指定する)
  * ゴール: @
  * 壁: #
  * 爆弾: !
  * 鍵: %
  * ドア: =

また、以下のような追加条件が指定されている:

  * 初期プログラムは空列。 ([])
  * 許される最高ステップ数は 5。(None の場合は制限なし)
  * 使える命令は G, L, R のみ。(None の場合は制限なし)

サーバで問題を一元管理する
--------------------------

  * サブネット上で末尾が *.*.*.1 のアドレスで HTTP サーバを listen しておく。
    Windows の場合は以下の DHCP サーバを使う: http://www.dhcpserver.de/cms/ 
  * 以下の URL にアクセス可能にする:
    http://xxx.xxx.xxx.1/pybot/index.txt
  * この URL から上記の問題ファイル (level*.txt) をダウンロードできるようにしておく。
  * クライアントを以下の方法で起動する。
  
    $ python pybot.py -f //pybot/index.txt
